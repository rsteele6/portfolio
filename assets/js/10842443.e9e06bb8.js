"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[4205],{76727:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var t=s(74848),r=s(28453);const i={sidebar_position:5,id:"Install Cluster",slug:"install-cluster"},l="Install Cluster",o={id:"nutanix-ce-installation-guide/Install Cluster",title:"Install Cluster",description:"Before proceeding, ensure the node\u2019s boot device is set to USB in BIOS (if you are using a USB boot device). Typically, you will need to press a function key or the escape key to enter the BIOS settings. The hotkey needed typically displays during POST. If it does not, consult the hardware vendor instruction manual.",source:"@site/docs/nutanix-ce-installation-guide/install-cluster.md",sourceDirName:"nutanix-ce-installation-guide",slug:"/nutanix-ce-installation-guide/install-cluster",permalink:"/nutanix-ce-installation-guide/install-cluster",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5,id:"Install Cluster",slug:"install-cluster"},sidebar:"defaultSidebar",previous:{title:"Network",permalink:"/nutanix-ce-installation-guide/recommendations/network"},next:{title:"Destroy Cluster",permalink:"/nutanix-ce-installation-guide/destroy-cluster"}},a={},c=[{value:"Procedure",id:"procedure",level:2},{value:"Cluster Configuration",id:"cluster-configuration",level:2},{value:"Creating a Single-Node Cluster",id:"creating-a-single-node-cluster",level:3},{value:"Creating a Multi-Node Cluster",id:"creating-a-multi-node-cluster",level:3},{value:"Configure Cluster",id:"configure-cluster",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"install-cluster",children:"Install Cluster"}),"\n",(0,t.jsx)(n.p,{children:"Before proceeding, ensure the node\u2019s boot device is set to USB in BIOS (if you are using a USB boot device). Typically, you will need to press a function key or the escape key to enter the BIOS settings. The hotkey needed typically displays during POST. If it does not, consult the hardware vendor instruction manual."}),"\n",(0,t.jsx)(n.h2,{id:"procedure",children:"Procedure"}),"\n",(0,t.jsx)(n.admonition,{type:"danger",children:(0,t.jsx)(n.p,{children:"The deployment process destroys any pre-existing data on all drives!"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Insert the USB stick and power on the node. The machine should boot to the image loaded on the USB drive."}),"\n",(0,t.jsx)(n.li,{children:"When prompted, enter install as the username, and leave the password blank."}),"\n",(0,t.jsx)(n.li,{children:"Select the appropriate keyboard layout using the arrow keys."}),"\n",(0,t.jsx)(n.li,{children:"Read the warning about the destructive testing and use tab to select \u201cProceed.\u201d"}),"\n",(0,t.jsx)(n.li,{children:"Press \u201cEnter\u201d to proceed with installation."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"Figure 2: Initial Install Screen"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:s(38528).A+"",width:"450",height:"207"})}),"\n",(0,t.jsx)(n.p,{children:"Source: Nutanix. (2020). \u201cGetting Started with Nutanix Community Edition\u201d"}),"\n",(0,t.jsxs)(n.ol,{start:"6",children:["\n",(0,t.jsx)(n.li,{children:"Enter the IP address, subnet mask and gateway information for the node (host) and the CVM. Use the Tab or arrow keys to go to the next field."}),"\n",(0,t.jsx)(n.li,{children:"Use the space bar to select \u201cCreate a Single Node Cluster\u201d if applicable."}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"If you are creating a single-node cluster, the installer will also prompt you to enter a Domain Name Service (DNS) server IP. If the customer does not have an internal DNS server, you can use an IP from a public DNS service such as Google Public DNS (8.8.8.8 or 8.8.4.4) (Google, LLC, n.d.)"})}),"\n",(0,t.jsxs)(n.ol,{start:"8",children:["\n",(0,t.jsx)(n.li,{children:"Accept the End User License Agreement (EULA)."}),"\n",(0,t.jsx)(n.li,{children:"Use Tab to highlight \u201cStart,\u201d and press \u201cEnter.\u201d"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"Figure 3: Post-Install Configuration"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:s(93353).A+"",width:"638",height:"432"})}),"\n",(0,t.jsx)(n.p,{children:"Source: Nutanix. (2020). \u201cGetting Started with Nutanix Community Edition\u201d"}),"\n",(0,t.jsx)(n.p,{children:"When the installation completes, you will see a \u201cImaging Process Completed Successfully\u201d message. The CVM will then start. Please allow about 5 minutes for all CVM services to start."}),"\n",(0,t.jsxs)(n.ol,{start:"10",children:["\n",(0,t.jsx)(n.li,{children:"Open a web browser and enter the IP of the CVM. The management console will display:"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"Figure 4: Prism Element Initial Login Screen"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:s(93526).A+"",width:"260",height:"201"})}),"\n",(0,t.jsx)(n.p,{children:"Source: Nutanix. (2020). \u201cGetting Started with Nutanix Community Edition\u201d"}),"\n",(0,t.jsxs)(n.ol,{start:"11",children:["\n",(0,t.jsxs)(n.li,{children:["Enter the default password of ",(0,t.jsx)(n.strong,{children:"nutanix/4u"}),". The system will prompt you to change it. Have the customer enter a secure password of his/her choice."]}),"\n",(0,t.jsxs)(n.li,{children:['Have the customer enter his/her NEXT credentials to finish registering the cluster. This is the account created in the "Licensing" section on the ',(0,t.jsx)(n.a,{href:"./recommendations/software#licensing",children:"software requirements page"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["See ",(0,t.jsx)(n.a,{href:"./appendix#default-nutanix-passwords",children:"\u201cDefault Nutanix passwords\u201d"})," in the appendix for a list of default passwords for various components of the Nutanix system. All default passwords are well known and should be changed after deployment. The appendix also contains instructions on ",(0,t.jsx)(n.a,{href:"./appendix#how-to-change-nutanix-passwords",children:"how to change these passwords"}),"."]})}),"\n",(0,t.jsxs)(n.ol,{start:"13",children:["\n",(0,t.jsxs)(n.li,{children:["At the login prompt shown after installing Community Edition, log into the node. The username is root and the default password is ",(0,t.jsx)(n.strong,{children:"nutanix/4u"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Log into the CVM via secure shell (SSH). The username is ",(0,t.jsx)(n.strong,{children:"nutanix"}),", and the default password is ",(0,t.jsx)(n.strong,{children:"nutanix/4u"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"cluster-configuration",children:"Cluster Configuration"}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["If you are creating a multi-node cluster, skip to ",(0,t.jsx)(n.a,{href:"#creating-a-multi-node-cluster",children:"\u201cCreating a Multi-Node Cluster.\u201d"})]})}),"\n",(0,t.jsx)(n.h3,{id:"creating-a-single-node-cluster",children:"Creating a Single-Node Cluster"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Connect to the CVM using SSH."}),"\n",(0,t.jsxs)(n.li,{children:["Create the cluster by entering the following command, where ",(0,t.jsx)(n.strong,{children:"cvm_ip"})," is the CVM\u2019s IP address:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"cluster -s cvm_ip --redundancy_factor=1 create\n"})}),"\n",(0,t.jsx)(n.p,{children:"A series of messages informs you that the cluster is being created and services are starting. When the process is finished, a \u201ccluster created message\u201d is displayed."}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsx)(n.li,{children:"Configure one or more DNS servers by entering the following command, where dns_server is either a single IP, or a comma-separated list of multiple IPs:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'ncli cluster add-to-name-servers servers="dns_server"\n'})}),"\n",(0,t.jsx)(n.p,{children:"You can specify either internal DNS IP addresses, or use a public DNS service such as Google Public DNS (8.8.8.8 and 8.8.4.4)."}),"\n",(0,t.jsxs)(n.ol,{start:"4",children:["\n",(0,t.jsx)(n.li,{children:"Verify the configuration:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"ncli cluster get-name-servers\n"})}),"\n",(0,t.jsx)(n.p,{children:"(Nutanix, Inc., 2020)"}),"\n",(0,t.jsx)(n.h3,{id:"creating-a-multi-node-cluster",children:"Creating a Multi-Node Cluster"}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"You will need another IP address, which Nutanix calls the \u201cexternal IP address,\u201d to use as the cluster IP. This IP is used to access Prism, the management interface for the cluster. Nutanix recommends using a static IP for the external IP.\r\nDespite its name, the external IP should be LAN-facing only, and NOT accessible from the internet."})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Connect to a CVM using SSH."}),"\n",(0,t.jsxs)(n.li,{children:["Create the cluster by entering the following command, where ",(0,t.jsx)(n.strong,{children:"cvm_ip_addresses"})," is a comma-separated list of all the CVM IP addresses that will be part of the cluster:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"cluster -s cvm_ip_addresses create\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsx)(n.li,{children:"Start your new cluster:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"cluster start\n"})}),"\n",(0,t.jsxs)(n.p,{children:["A series of messages should display, indicating a status of ",(0,t.jsx)(n.strong,{children:"UP"})," for each node in the cluster."]}),"\n",(0,t.jsx)(n.h3,{id:"configure-cluster",children:"Configure Cluster"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Define the name of the cluster by entering the following command, where ",(0,t.jsx)(n.strong,{children:"cluster_name"})," is the desired cluster name:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"ncli cluster edit-params new-name=cluster_name\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsxs)(n.li,{children:["Configure one or more DNS servers using the following command, where ",(0,t.jsx)(n.strong,{children:"dns_server"})," is a single DNS server, or a comma-separated list of servers:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'ncli cluster add-to-name-servers servers="dns_server"\n'})}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsx)(n.li,{children:"Confirm the new DNS settings:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"ncli cluster get-name-servers\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"4",children:["\n",(0,t.jsxs)(n.li,{children:["Configure Network Time Protocol (NTP) servers, where ",(0,t.jsx)(n.strong,{children:"ntp_server"})," is a single NTP server, or a comma-separated list of servers. You can use the customer\u2019s internal NTP servers (if applicable), or external sources such as the time.nist.gov NTP server pool:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'ncli cluster add-to-ntp-servers servers="ntp_server"\n'})}),"\n",(0,t.jsxs)(n.ol,{start:"5",children:["\n",(0,t.jsxs)(n.li,{children:["Configure the external IP (cluster IP), where ",(0,t.jsx)(n.strong,{children:"cluster_ip_address"})," is the cluster IP:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'ncli cluster set-external-ip-address \\ external-ip address="cluster_ip_address"\n'})}),"\n",(0,t.jsx)(n.p,{children:"(Nutanix, Inc., 2020)"})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},38528:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/nutanix_ce_fig2-8ee1f6b6868b0db6b8206d543287a941.png"},93353:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/nutanix_ce_fig3-fab94ce297be9fd9e97a84596b870243.png"},93526:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/nutanix_ce_fig4-7a54846075acc5edb59fc7a57527425f.png"},28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>o});var t=s(96540);const r={},i=t.createContext(r);function l(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);